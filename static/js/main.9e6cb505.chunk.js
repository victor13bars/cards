(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],{18:function(e,t,n){e.exports={navbar:"Navbar_navbar__3Tmog",navbar__links:"Navbar_navbar__links__1Shcr",navbar__links_auth:"Navbar_navbar__links_auth__3ZJyg",navbar__links_active:"Navbar_navbar__links_active__2ZiAJ"}},20:function(e,t,n){},22:function(e,t,n){e.exports={page__wrapper:"Paginator_page__wrapper__14WXx",page:"Paginator_page__2IrdI",page__current:"Paginator_page__current__1YOHS",selectContainer:"Paginator_selectContainer__OxZBc"}},28:function(e,t,n){e.exports={myModal:"MyModal_myModal__3uSbP",myModalContent:"MyModal_myModalContent__1Hkvd",active:"MyModal_active__2G04E"}},33:function(e,t,n){e.exports={myButton:"MyButton_myButton__1pu-a",disable:"MyButton_disable__1U96I"}},35:function(e,t,n){e.exports={container:"Loader_container__1slN1",loader:"Loader_loader__GZZ4_",rotate:"Loader_rotate__1j489"}},48:function(e,t,n){e.exports={myInput:"MyInput_myInput__3aAA4"}},50:function(e,t,n){e.exports={mySelect:"MySelect_mySelect__1T-iG"}},82:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(19),r=n.n(c),s=(n(20),n(8)),o=n(18),i=n.n(o),u=n(2),l=n(12),d=n(33),j=n.n(d),b=n(0),p=function(e){var t=e.children,n=e.disable,a=Object(l.a)(e,["children","disable"]),c="".concat(n?j.a.disable:j.a.myButton);return Object(b.jsx)("button",Object(u.a)(Object(u.a)({className:c},a),{},{children:t}))},h=n(3),O=n(6),f=n.n(O),v=n(10),x=n(46),m=n.n(x).a.create({withCredentials:!0,baseURL:"http://localhost:7542/2.0/"}),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"nya-admin@nya.nya",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1qazxcvBG",n=arguments.length>2?arguments[2]:void 0;return m.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},_=function(){return m.delete("auth/me",{}).then((function(e){return e.data}))},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"nya-admin@nya.nya",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1qazxcvBG";return m.post("auth/register",{email:e,password:t}).then((function(e){return e.data}))},C=function(){return m.post("auth/me",{}).then((function(e){return e.data}))},y=function(e,t){return m.put("auth/me",{name:e,avatar:t}).then((function(e){return e.data.updatedUser}))},N=function(e,t,n,a,c){return m.get("cards/pack",{params:{packName:e,sortPacks:t,page:n,pageCount:a,user_id:c}}).then((function(e){return e.data}))},w=function(e){return m.post("cards/pack",{cardsPack:e}).then((function(e){return e.data}))},S=function(e){return m.delete("cards/pack?id=".concat(e)).then((function(e){return e.data}))},P=function(e){return m.put("cards/pack",{cardsPack:e}).then((function(e){return e.data}))},E=function(e,t,n,a,c){return m.get("cards/card",{params:{cardQuestion:e,cardsPack_id:t,sortCards:n,page:a,pageCount:c}}).then((function(e){return e.data}))},M=function(e){return m.post("cards/card",{card:e}).then((function(e){return e.data}))},T=function(e){return m.delete("cards/card?id=".concat(e)).then((function(e){return e.data}))},A=function(e){return m.put("cards/card",{card:e}).then((function(e){return e.data}))},L=function(e,t){return m.put("cards/grade",{grade:e,card_id:t}).then((function(e){return e.data.updatedGrade}))},B="SET_LOGIN_INFO",D="SET_AUTH",I="SET_LOADING",R="SET_ERROR",U="SET_IS_ERROR",V="SET_IS_CRUSER",G={_id:null,email:null,name:null,avatar:null,publicCardPacksCount:null,created:null,updated:null,isAdmin:null,verified:null,rememberMe:!1,error:null,isError:!1,isLoading:!1,isCreatedUser:!1},q=function(e){return{type:B,payload:e}},F=function(e){return{type:D,payload:e}},H=function(e){return{type:I,payload:e}},Q=function(e){return{type:R,payload:e}},Z=function(e){return{type:U,payload:e}},J=function(e,t){return function(){var n=Object(v.a)(f.a.mark((function n(a){var c;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(H(!0)),n.next=4,y(e,t);case 4:c=n.sent,console.log("editAuthMeData",c),a(q(c)),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),a(Q(n.t0.response.data.error)),a(Z(!0));case 13:return n.prev=13,a(H(!1)),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[0,9,13,16]])})));return function(e){return n.apply(this,arguments)}}()},K=function(){var e=Object(h.c)((function(e){return e.auth.isAuth})),t=Object(h.b)();return Object(b.jsx)("div",{className:i.a.navbar,children:e?Object(b.jsxs)("div",{className:i.a.navbar__links,children:[Object(b.jsxs)("div",{className:i.a.navbar__links_auth,children:[Object(b.jsx)(s.c,{to:"/profile",activeClassName:i.a.navbar__links_active,children:"Profile"}),Object(b.jsx)(s.c,{to:"/packsList",activeClassName:i.a.navbar__links_active,children:"PacksList"})]}),Object(b.jsx)(p,{onClick:function(){t(function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(H(!0)),e.next=4,_();case 4:e.sent,t(F(!1)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t(Q(e.t0.response.data.error)),t(Z(!0));case 12:return e.prev=12,t(H(!1)),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,8,12,15]])})));return function(t){return e.apply(this,arguments)}}())},children:"Logout"})]}):Object(b.jsxs)("div",{className:i.a.navbar__links,children:[Object(b.jsx)(s.c,{to:"/login",activeClassName:i.a.navbar__links_active,children:"Login"}),Object(b.jsx)(s.c,{to:"/registration",activeClassName:i.a.navbar__links_active,children:"Registration"}),Object(b.jsx)(s.c,{to:"/recovery",activeClassName:i.a.navbar__links_active,children:"PasswordRecovery"}),Object(b.jsx)(s.c,{to:"/newPassword",activeClassName:i.a.navbar__links_active,children:"NewPassword"})]})})},Y=n(7),z=n(48),W=n.n(z),X=function(e){return Object(b.jsx)("input",Object(u.a)({className:W.a.myInput},e))},$=n(35),ee=n.n($),te=function(){return Object(b.jsxs)("div",{className:ee.a.container,children:[Object(b.jsx)("h2",{children:"LOADING"}),Object(b.jsx)("div",{className:ee.a.loader})]})},ne=n(36),ae=function(){var e=Object(h.c)((function(e){return e.auth.error}));Object(h.c)((function(e){return e.auth.isError}));return Object(b.jsx)("div",{style:{marginTop:"40px"},children:Object(b.jsxs)(ne.a,{variant:"danger",children:[Object(b.jsx)(ne.a.Heading,{children:"An error has occurred!"}),Object(b.jsx)("div",{className:"errorMessage",children:Object(b.jsx)("p",{children:e})})]})})},ce=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.auth.isAuth})),n=Object(h.c)((function(e){return e.auth.isLoading})),a=Object(h.c)((function(e){return e.auth.isError}));console.log("LOGINNNNNN");return n?Object(b.jsx)(te,{}):a?Object(b.jsx)(ae,{}):!t&&Object(b.jsxs)("div",{className:"login",children:[Object(b.jsx)("h2",{children:"Sign In"}),Object(b.jsxs)("form",{name:"login",action:"",onSubmit:function(t){t.preventDefault();var n,a,c,r=document.forms.login.elements;e((n=r.email.value,a=r.password.value,c=r.rememberMe.checked,function(){var e=Object(v.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(H(!0)),e.next=4,g(n,a,c);case 4:r=e.sent,t(q(r)),t(F(!0)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),t(Q(e.t0.response.data.error)),t(Z(!0));case 13:return e.prev=13,t(H(!1)),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(b.jsx)(X,{name:"email",type:"text",placeholder:"Email"}),Object(b.jsx)(X,{name:"password",type:"password",placeholder:"Password"}),Object(b.jsxs)("div",{className:"rememberMe",children:[Object(b.jsx)("h3",{children:"Remember Me"}),Object(b.jsx)(X,{name:"rememberMe",type:"checkBox",placeholder:"RememberMe"})]}),Object(b.jsx)("div",{className:"forgot",children:Object(b.jsx)(s.b,{to:"/recovery",children:"Forgot Password"})}),Object(b.jsx)(p,{disable:n,children:"Login"})]}),Object(b.jsxs)("div",{className:"notAccount",children:[Object(b.jsx)("h3",{children:"Don't have an account?"}),Object(b.jsx)(s.b,{to:"/registration",children:"Sign Up"})]})]})},re=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.auth.isLoading})),n=Object(h.c)((function(e){return e.auth.isError})),a=Object(h.c)((function(e){return e.auth.isCreatedUser}));return t?Object(b.jsx)(te,{}):n?Object(b.jsx)(Y.a,{to:"/error"}):a?Object(b.jsx)(Y.a,{to:"/login"}):Object(b.jsxs)("div",{className:"register",children:[Object(b.jsx)("h2",{children:"Sign Up"}),Object(b.jsxs)("form",{name:"register",action:"",onSubmit:function(t){t.preventDefault();var n,a,c=document.forms.register.elements;e((n=c.email.value,a=c.password.value,function(){var e=Object(v.a)(f.a.mark((function e(t){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(H(!0)),e.next=4,k(n,a);case 4:c=e.sent,console.log(c),t({type:V,payload:!0}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),t(Q(e.t0.response.data.error)),t(Z(!0));case 14:return e.prev=14,t(H(!1)),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,9,14,17]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(b.jsx)(X,{name:"email",type:"text",placeholder:"Email"}),Object(b.jsx)(X,{name:"password",type:"password",placeholder:"Password"}),Object(b.jsx)(p,{children:"Register"})]})]})},se=n(5),oe=n.p+"static/media/MyPhoto.9ae5fa7c.jpg",ie=function(e){console.log(e);var t=e.split("T"),n=Object(se.a)(t,2),a=n[0],c=n[1];return e=(a=a.split("-").reverse().join("."))+" - "+(c=c.slice(0,8))},ue=function(){var e=Object(h.b)(),t=Object(a.useRef)(null),n=Object(a.useState)(),c=Object(se.a)(n,2),r=(c[0],c[1]),s=Object(h.c)((function(e){return e.auth.avatar})),o=Object(h.c)((function(e){return e.auth.email})),i=Object(h.c)((function(e){return e.auth.name})),u=Object(h.c)((function(e){return e.auth.publicCardPacksCount})),l=Object(h.c)((function(e){return e.auth.created})),d=Object(h.c)((function(e){return e.auth.verified.toString()})),j=Object(a.useState)(!1),O=Object(se.a)(j,2),f=O[0],v=O[1],x=Object(a.useState)(i),m=Object(se.a)(x,2),g=m[0],_=m[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h2",{style:{marginTop:"20px"},children:" My Profile "}),Object(b.jsxs)("div",{className:"profileContainer",children:[Object(b.jsxs)("div",{className:"profileImg_wrapper",children:[Object(b.jsx)("div",{className:"profileImg",children:Object(b.jsx)("img",{src:s||oe})}),f?Object(b.jsx)(X,{value:g,onChange:function(e){return _(e.target.value)},onBlur:function(t){v(!1),e(J(g,""))}}):Object(b.jsxs)("p",{className:"profileImg_wrapper_text",onDoubleClick:function(){return v(!0)},children:[g," "]}),Object(b.jsx)("span",{children:"Front-end Developer"}),Object(b.jsx)("input",{ref:t,type:"file",style:{display:"none"},accept:".jpg, .jpeg, .png",multiple:!0,onChange:function(t){t.preventDefault();new FormData;var n=t.target.files&&t.target.files[0];if(n){r(n);var a=window.URL.createObjectURL(n);e(J(g,a))}}}),Object(b.jsx)(p,{onClick:function(){return t&&t.current&&t.current.click()},children:"Upload photo"})]}),Object(b.jsxs)("div",{className:"profileInfo_wrapper",children:[Object(b.jsxs)("p",{children:["E-mail : ",o]}),Object(b.jsxs)("p",{children:["Count packs : ",u]}),Object(b.jsxs)("p",{children:["Created : ",ie(l)]}),Object(b.jsxs)("p",{children:["Verified : ",d]})]})]})]})},le=function(){return Object(b.jsx)("div",{children:"PasswordRecovery"})},de=function(){return Object(b.jsx)("div",{children:"PasswordNew"})},je="SET_PACKS",be="SET_SEARCH_VALUE",pe="SET_TYPE_SORT",he="SET_IS_MYPACKS",Oe="SET_PAGE",fe="SET_PAGE_COUNT",ve={cardPacks:[{_id:null,name:null,cardsCount:null,created:null,updated:null}],cardPacksTotalCount:0,maxCardsCount:null,minCardsCount:null,page:1,pageCount:4,searchValue:"",sortPacks:"0updated",isMyPacks:!1},xe=function(e){return{type:je,payload:e}},me=function(e){return{type:be,payload:e}},ge=function(e){return{type:pe,payload:e}},_e=function(e){return{type:he,payload:e}},ke=function(e){return{type:Oe,payload:e}},Ce=function(e){return{type:fe,payload:e}},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(v.a)(f.a.mark((function t(n,a){var c,r,s,o,i,u,l;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a().packs,r=c.searchValue,s=c.sortPacks,o=c.page,i=c.pageCount,console.log("EEEEEEEEEEEEEEE",a().packs),t.prev=2,n(H(!0)),t.next=6,N(r,s,o,i,e);case 6:u=t.sent,n(xe(u)),t.next=16;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0.response),l=t.t0.response?t.t0.response.data.error:"Server Error",n(Q(l)),n(Z(!0));case 16:return t.prev=16,n(H(!1)),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[2,10,16,19]])})));return function(e,n){return t.apply(this,arguments)}}()},Ne=function(e,t){return function(){var n=Object(v.a)(f.a.mark((function n(a){var c,r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(H(!0)),n.next=4,w({name:e});case 4:c=n.sent,console.log(c),a(ye(t)),n.next=15;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0.response),r=n.t0.response?n.t0.response.data.error:"Server Error",a(Q(r)),a(Z(!0));case 15:return n.prev=15,a(H(!1)),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[0,9,15,18]])})));return function(e){return n.apply(this,arguments)}}()},we=function(e,t){return function(){var n=Object(v.a)(f.a.mark((function n(a){var c,r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(H(!0)),n.next=4,S(e);case 4:c=n.sent,console.log(c),a(ye(t)),n.next=15;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0.response),r=n.t0.response?n.t0.response.data.error:"Server Error",a(Q(r)),a(Z(!0));case 15:return n.prev=15,a(H(!1)),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[0,9,15,18]])})));return function(e){return n.apply(this,arguments)}}()},Se=function(e,t,n){return function(){var a=Object(v.a)(f.a.mark((function a(c){var r,s;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c(H(!0)),a.next=4,P({_id:e,name:t});case 4:r=a.sent,console.log(r),c(ye(n)),a.next=15;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0.response),s=a.t0.response?a.t0.response.data.error:"Server Error",c(Q(s)),c(Z(!0));case 15:return a.prev=15,c(H(!1)),a.finish(15);case 18:case"end":return a.stop()}}),a,null,[[0,9,15,18]])})));return function(e){return a.apply(this,arguments)}}()},Pe=n(27),Ee=n(28),Me=n.n(Ee),Te=function(e){var t=e.children,n=e.visible,a=e.setVisible,c=[Me.a.myModal];return n&&c.push(Me.a.active),Object(b.jsx)("div",{className:c.join(" "),onClick:function(){return a(!1)},children:Object(b.jsx)("div",{className:Me.a.myModalContent,onClick:function(e){return e.stopPropagation()},children:t})})},Ae=Object(a.memo)((function(e){var t=e.typeSort,n=e.startValue,a=e.endValue,c=e.SortUp,r=e.SortDown;return console.log("SortButton"),Object(b.jsxs)("div",{children:[Object(b.jsx)(p,{className:t===n?"table_sort_btn_passive":"table_sort_btn_active",onClick:c,children:"Up"}),Object(b.jsx)(p,{className:t===a?"table_sort_btn_passive":"table_sort_btn_active",onClick:r,children:"Down"})]})})),Le=Object(a.memo)((function(){var e=Object(h.c)((function(e){return e.auth.isLoading})),t=Object(h.c)((function(e){return e.auth.isError})),n=Object(h.c)((function(e){return e.packs.cardPacks})),c=Object(h.b)(),r=Object(h.c)((function(e){return e.packs.isMyPacks})),o=Object(h.c)((function(e){return e.auth._id})),i=Object(h.c)((function(e){return e.packs.sortPacks})),u=Object(a.useState)(!1),l=Object(se.a)(u,2),d=l[0],j=l[1],O=Object(a.useState)(!1),f=Object(se.a)(O,2),v=f[0],x=f[1],m=Object(a.useState)(""),g=Object(se.a)(m,2),_=g[0],k=g[1],C=Object(a.useState)(0),y=Object(se.a)(C,2),N=y[0],w=y[1],S=Object(Y.g)();console.log("TableForPacks",n);var P=Object(a.useCallback)((function(){r?(c(ge("1updated")),c(ye(o))):(c(ge("1updated")),c(ye()))}),[r]),E=Object(a.useCallback)((function(){r?(c(ge("0updated")),c(ye(o))):(c(ge("0updated")),c(ye()))}),[r]),M=Object(a.useCallback)((function(){r?(c(ge("1cardsCount")),c(ye(o))):(c(ge("1cardsCount")),c(ye()))}),[r]),T=Object(a.useCallback)((function(){r?(c(ge("0cardsCount")),c(ye(o))):(c(ge("0cardsCount")),c(ye()))}),[r]),A=function(e){S.push("/learnPage/".concat(e))};return e?Object(b.jsx)(te,{}):t?Object(b.jsx)(ae,{}):Object(b.jsxs)("div",{className:"table_Container",children:[Object(b.jsxs)(Te,{visible:d,setVisible:j,children:[Object(b.jsx)("h3",{children:"Delete Pack"}),Object(b.jsxs)("p",{children:["Do you really want to remove Pack?",Object(b.jsx)("br",{}),"All cards will be excluded from this course"]}),Object(b.jsxs)("div",{className:"addNewPackModalBtn",children:[Object(b.jsx)(p,{onClick:function(){return j(!1)},children:"Cancel"}),Object(b.jsx)(p,{onClick:function(){r?(c(we(N,o)),j(!1)):(c(we(N)),j(!1))},children:"Delete"})]})]}),Object(b.jsxs)(Te,{visible:v,setVisible:x,children:[Object(b.jsx)("p",{children:"Edit Pack"}),Object(b.jsx)(X,{value:_,placeholder:"New pack name",onChange:function(e){return k(e.target.value)}}),Object(b.jsxs)("div",{className:"addNewPackModalBtn",children:[Object(b.jsx)(p,{className:"addNewPackModalButton",onClick:function(){return x(!1)},children:"Cancel"}),Object(b.jsx)(p,{className:"addNewPackModalButton",onClick:function(){r?(c(Se(N,_,o)),x(!1),k("")):(c(Se(N,_)),x(!1),k(""))},children:"Save"})]})]}),Object(b.jsxs)(Pe.a,{striped:!0,bordered:!0,hover:!0,children:[Object(b.jsx)("thead",{children:Object(b.jsx)("tr",{children:[{id:1,columnName:"Pack name"},{id:2,columnName:"Cards"},{id:3,columnName:"Last updated"},{id:4,columnName:"Created By"},{id:5,columnName:"Actions"}].map((function(e){return"Last updated"===e.columnName?Object(b.jsxs)("th",{children:[e.columnName,Object(b.jsx)(Ae,{typeSort:i,startValue:"0updated",endValue:"1updated",SortUp:P,SortDown:E})]},e.id):"Cards"===e.columnName?Object(b.jsxs)("th",{children:[e.columnName,Object(b.jsx)(Ae,{typeSort:i,startValue:"0cardsCount",endValue:"1cardsCount",SortUp:M,SortDown:T})]},e.id):Object(b.jsx)("th",{children:Object(b.jsx)("span",{children:e.columnName})},e.id)}))})}),Object(b.jsx)("tbody",{children:n.map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)(s.c,{to:"/cardsList/".concat(e._id),children:e.name})}),Object(b.jsx)("td",{children:e.cardsCount}),Object(b.jsx)("td",{children:ie(e.updated)}),Object(b.jsx)("td",{children:e.user_name}),Object(b.jsx)("td",{children:e.user_id===o?Object(b.jsxs)("div",{className:"table_actions_btn",children:[Object(b.jsx)(p,{onClick:function(){return t=e._id,j(!0),void w(t);var t},children:"Delete"}),Object(b.jsx)(p,{onClick:function(){return t=e._id,n=e.name,x(!0),k(n),void w(t);var t,n},children:"Edit"}),Object(b.jsx)(p,{onClick:function(){return A(e._id)},children:"Learn"})]}):Object(b.jsx)("div",{className:"table_actions_btn",children:Object(b.jsx)(p,{onClick:function(){return A(e._id)},children:"Learn"})})})]},e._id)}))})]})]})})),Be=function(e){var t=e.searchCallBack,n=e.placeholder,c=Object(a.useState)(""),r=Object(se.a)(c,2),s=r[0],o=r[1];console.log(s);return Object(b.jsxs)("div",{className:"search",children:[Object(b.jsx)(X,{value:s,placeholder:n,onChange:function(e){return o(e.target.value)}}),Object(b.jsx)(p,{onClick:function(){t(s),o("")},children:"Search"})]})};var De=n(22),Ie=n.n(De),Re=n(50),Ue=n.n(Re),Ve=function(e){var t=e.options,n=e.defaultValue,a=e.value,c=e.onChange;return Object(b.jsxs)("select",{className:Ue.a.mySelect,value:a,onChange:function(e){return c(e.target.value)},children:[Object(b.jsx)("option",{value:n,children:n}),t.map((function(e){return Object(b.jsx)("option",{value:e.value,children:e.value},e.value)}))]})},Ge=Object(a.memo)((function(e){var t=e.page,n=e.cardPacksTotalCount,a=e.pageCount,c=e.onChangeCurPage,r=e.onChangeCurPageCount,s=[],o=Math.ceil(n/a);return function(e,t,n){if(t>10)if(n>5)for(var a=n-4;a<=n+5&&(e.push(a),a!=t);a++);else for(var c=1;c<=10&&(e.push(c),c!=t);c++);else for(var r=1;r<=t;r++)e.push(r)}(s,o,t),console.log("PAginator"),console.log("TOtal",o),Object(b.jsxs)("div",{className:Ie.a.page__wrapper,children:[s.map((function(e,n){return Object(b.jsx)("span",{className:t===e?Ie.a.page+" "+Ie.a.page__current:Ie.a.page,onClick:function(){return c(e)},children:e},n)})),Object(b.jsx)("div",{className:Ie.a.selectContainer,children:Object(b.jsx)(Ve,{value:a,onChange:r,defaultValue:a,options:[{value:5},{value:10},{value:15}]})})]})})),qe="SET_CARDS",Fe="SET_SEARCH_QUESTION",He="SET_CARDS_TYPE_SORT",Qe="SET_CARD_PAGE",Ze="SET_CARD_PAGE_COUNT",Je="SET_EDIT_GRADE",Ke={cards:[{answer:null,question:null,cardsPack_id:null,grade:null,rating:null,shots:null,type:null,user_id:null,created:null,updated:null,_v:null,_id:null}],cardsTotalCount:null,maxGrade:null,minGrade:null,page:1,pageCount:4,packUserId:null,questionSearch:"",typeSort:"0grade"},Ye=function(e){return{type:Qe,payload:e}},ze=function(e){return{type:Ze,payload:e}},We=function(e){return{type:He,payload:e}},Xe=function(e){return{type:Je,payload:e}},$e=function(e){return function(){var t=Object(v.a)(f.a.mark((function t(n,a){var c,r,s,o,i,u,l;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a().cards,r=c.questionSearch,s=c.page,o=c.pageCount,i=c.typeSort,t.prev=1,n(H(!0)),t.next=5,E(r,e,i,s,o);case 5:u=t.sent,n({type:qe,payload:u}),t.next=15;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0.response),l=t.t0.response?t.t0.response.data.error:"Server Error",n(Q(l)),n(Z(!0));case 15:return t.prev=15,n(H(!1)),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[1,9,15,18]])})));return function(e,n){return t.apply(this,arguments)}}()},et=function(e){var t=e.packId;console.log("packId",t);var n=Object(h.c)((function(e){return e.cards.cards})),c=Object(h.b)(),r=Object(h.c)((function(e){return e.auth._id})),s=Object(h.c)((function(e){return e.cards.typeSort})),o=Object(a.useState)(!1),i=Object(se.a)(o,2),u=i[0],l=i[1],d=Object(a.useState)(!1),j=Object(se.a)(d,2),O=j[0],x=j[1],m=Object(a.useState)(""),g=Object(se.a)(m,2),_=g[0],k=g[1],C=Object(a.useState)(""),y=Object(se.a)(C,2),N=y[0],w=y[1],S=Object(a.useState)(0),P=Object(se.a)(S,2),E=P[0],M=P[1],L=Object(a.useCallback)((function(){c(We("1grade")),c($e(t))}),[]),B=Object(a.useCallback)((function(){c(We("0grade")),c($e(t))}),[]),D=Object(a.useCallback)((function(){c(We("1updated")),c($e(t))}),[]),I=Object(a.useCallback)((function(){c(We("0updated")),c($e(t))}),[]);return Object(b.jsxs)("div",{children:[Object(b.jsxs)(Te,{visible:u,setVisible:l,children:[Object(b.jsx)("h3",{children:"Delete Pack"}),Object(b.jsx)("p",{children:"Do you really want to remove Pack?"}),Object(b.jsxs)("div",{className:"addNewPackModalBtn",children:[Object(b.jsx)(p,{onClick:function(){return l(!1)},children:"Cancel"}),Object(b.jsx)(p,{onClick:function(){c(function(e,t){return function(){var n=Object(v.a)(f.a.mark((function n(a){var c;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(H(!0)),n.next=4,T(e);case 4:n.sent,a($e(t)),n.next=14;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0.response),c=n.t0.response?n.t0.response.data.error:"Server Error",a(Q(c)),a(Z(!0));case 14:return n.prev=14,a(H(!1)),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[0,8,14,17]])})));return function(e){return n.apply(this,arguments)}}()}(E,t)),l(!1)},children:"Delete"})]})]}),Object(b.jsxs)(Te,{visible:O,setVisible:x,children:[Object(b.jsx)("p",{children:"Edit card"}),Object(b.jsx)(X,{value:_,placeholder:"Question",onChange:function(e){return k(e.target.value)}}),Object(b.jsx)(X,{value:N,placeholder:"Answer",onChange:function(e){return w(e.target.value)}}),Object(b.jsxs)("div",{className:"addNewPackModalBtn",children:[Object(b.jsx)(p,{className:"addNewPackModalButton",onClick:function(){return x(!1)},children:"Cancel"}),Object(b.jsx)(p,{className:"addNewPackModalButton",onClick:function(){c(function(e,t,n,a){return function(){var c=Object(v.a)(f.a.mark((function c(r){var s;return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,r(H(!0)),c.next=4,A({_id:t,question:n,answer:a});case 4:c.sent,r($e(e)),c.next=14;break;case 8:c.prev=8,c.t0=c.catch(0),console.log(c.t0.response),s=c.t0.response?c.t0.response.data.error:"Server Error",r(Q(s)),r(Z(!0));case 14:return c.prev=14,r(H(!1)),c.finish(14);case 17:case"end":return c.stop()}}),c,null,[[0,8,14,17]])})));return function(e){return c.apply(this,arguments)}}()}(t,E,_,N)),x(!1),w(""),k("")},children:"Save"})]})]}),Object(b.jsxs)(Pe.a,{striped:!0,bordered:!0,hover:!0,children:[Object(b.jsx)("thead",{children:Object(b.jsx)("tr",{children:[{id:1,columnName:"Question"},{id:2,columnName:"Answer"},{id:3,columnName:"Last updated"},{id:4,columnName:"Grade"},{id:5,columnName:"Actions"}].map((function(e){return"Grade"===e.columnName?Object(b.jsxs)("th",{children:[e.columnName,Object(b.jsx)(Ae,{typeSort:s,startValue:"0grade",endValue:"1grade",SortUp:L,SortDown:B})]},e.id):"Last updated"===e.columnName?Object(b.jsxs)("th",{children:[e.columnName,Object(b.jsx)(Ae,{typeSort:s,startValue:"0updated",endValue:"1updated",SortUp:D,SortDown:I})]},e.id):Object(b.jsx)("th",{children:e.columnName},e.id)}))})}),Object(b.jsx)("tbody",{children:n.map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.question}),Object(b.jsx)("td",{children:e.answer}),Object(b.jsx)("td",{children:ie(e.updated)}),Object(b.jsx)("td",{children:e.grade}),Object(b.jsx)("td",{children:e.user_id===r?Object(b.jsxs)("div",{className:"table_actions_btn",children:[Object(b.jsx)(p,{onClick:function(){return t=e._id,l(!0),void M(t);var t},children:"Delete"}),Object(b.jsx)(p,{onClick:function(){return t=e._id,n=e.question,a=e.answer,x(!0),k(n),w(a),void M(t);var t,n,a},children:"Edit"})]}):Object(b.jsx)("div",{className:"table_actions_btn",children:Object(b.jsx)("p",{children:"No actions because this is not your pack"})})})]},e._id)}))})]})]})},tt=function(e){var t=e.reduce((function(e,t){return e+(6-t.grade)*(6-t.grade)}),0),n=Math.random()*t,a=e.reduce((function(e,t,a){var c=e.sum+(6-t.grade)*(6-t.grade);return{sum:c,id:c<n?a:e.id}}),{sum:0,id:-1});return console.log("test: ",t,n,a),e[a.id+1]},nt=[{path:"/profile",component:ue,exact:!0},{path:"/packsList",component:function(){var e=Object(h.c)((function(e){return e.auth.isLoading})),t=Object(h.c)((function(e){return e.auth.isError})),n=Object(h.c)((function(e){return e.packs.cardPacks})),c=(Object(h.c)((function(e){return e.auth.isAuth})),Object(h.c)((function(e){return e.auth._id}))),r=Object(h.c)((function(e){return e.packs.isMyPacks})),s=Object(h.c)((function(e){return e.packs.pageCount})),o=Object(h.c)((function(e){return e.packs.page})),i=Object(h.c)((function(e){return e.packs.cardPacksTotalCount})),u=Object(h.b)(),l=Object(a.useState)(""),d=Object(se.a)(l,2),j=d[0],O=d[1],f=Object(a.useState)(!1),v=Object(se.a)(f,2),x=v[0],m=v[1];console.log("PACKLIST");var g=Object(a.useCallback)((function(e){u(ke(1)),r?(u(Ce(e)),u(ye(c))):(u(Ce(e)),u(ye()))}),[r]),_=Object(a.useCallback)((function(e){r?(u(ke(e)),u(ye(c))):(u(ke(e)),u(ye()))}),[]);return Object(a.useEffect)((function(){u(ye())}),[r]),e?Object(b.jsx)(te,{}):t?Object(b.jsx)(ae,{}):Object(b.jsxs)("div",{className:"packList",children:[Object(b.jsxs)(Te,{visible:x,setVisible:m,children:[Object(b.jsx)("p",{children:"Add new pack"}),Object(b.jsx)(X,{value:j,placeholder:"Name pack",onChange:function(e){return O(e.target.value)}}),Object(b.jsxs)("div",{className:"addNewPackModalBtn",children:[Object(b.jsx)(p,{className:"addNewPackModalButton",onClick:function(){m(!1),O("")},children:"Cancel"}),Object(b.jsx)(p,{className:"addNewPackModalButton",onClick:function(){r?(u(Ne(j,c)),m(!1),O("")):(u(Ne(j)),m(!1),O(""))},children:"Save"})]})]}),Object(b.jsxs)("div",{className:"packListHeader",children:[Object(b.jsx)("h2",{children:"Packs List"}),Object(b.jsx)(p,{onClick:function(){u(ke(1)),u(Ce(4)),u(ge("0updated")),u(ye(c)),u(_e(!0))},className:r?"PackListBtn_active":"PackListBtn_passive",children:"My"}),Object(b.jsx)(p,{onClick:function(){u(ke(1)),u(Ce(4)),u(ge("0updated")),u(ye()),u(_e(!1))},className:r?"PackListBtn_passive":"PackListBtn_active",children:"All"})]}),Object(b.jsxs)("div",{className:"searchAndBtn",children:[Object(b.jsx)(Be,{searchCallBack:function(e){r?(u(ke(1)),u(me(e)),u(ye(c))):(u(ke(1)),u(me(e)),u(ye()))},placeholder:"Search name"}),Object(b.jsx)(p,{onClick:function(){m(!0)},children:"Add new pack"})]}),n.length>1&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(Le,{}),Object(b.jsx)(Ge,{page:o,cardPacksTotalCount:i,pageCount:s,onChangeCurPage:_,onChangeCurPageCount:g})]})]})},exact:!0},{path:"/cardsList/:packId",component:function(){console.log("CardsList");var e=Object(h.b)(),t=Object(Y.h)().packId,n=Object(h.c)((function(e){return e.cards.cards})),c=Object(h.c)((function(e){return e.auth.isLoading})),r=Object(h.c)((function(e){return e.auth.isError})),s=Object(h.c)((function(e){return e.cards.page})),o=Object(h.c)((function(e){return e.cards.pageCount})),i=Object(h.c)((function(e){return e.cards.cardsTotalCount})),u=Object(a.useState)(!1),l=Object(se.a)(u,2),d=l[0],j=l[1],O=Object(a.useState)(""),x=Object(se.a)(O,2),m=x[0],g=x[1],_=Object(a.useState)(""),k=Object(se.a)(_,2),C=k[0],y=k[1],N=Object(a.useCallback)((function(n){e(Ye(1)),e(ze(n)),e($e(t))}),[s]),w=Object(a.useCallback)((function(n){e(Ye(n)),e($e(t))}),[s]);return Object(a.useEffect)((function(){e(Ye(1)),e($e(t))}),[t]),c?Object(b.jsx)(te,{}):r?Object(b.jsx)(ae,{}):Object(b.jsx)(b.Fragment,{children:n.length>=1?Object(b.jsxs)("div",{className:"packList",children:[Object(b.jsxs)(Te,{visible:d,setVisible:j,children:[Object(b.jsx)("p",{children:"Add new card"}),Object(b.jsx)(X,{value:C,placeholder:"Question",onChange:function(e){return y(e.target.value)}}),Object(b.jsx)(X,{value:m,placeholder:"Answer",onChange:function(e){return g(e.target.value)}}),Object(b.jsxs)("div",{className:"addNewPackModalBtn",children:[Object(b.jsx)(p,{className:"addNewPackModalButton",onClick:function(){return j(!1)},children:"Cancel"}),Object(b.jsx)(p,{className:"addNewPackModalButton",onClick:function(){e(function(e,t,n){return function(){var a=Object(v.a)(f.a.mark((function a(c){var r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c(H(!0)),a.next=4,M({answer:e,question:t,cardsPack_id:n});case 4:a.sent,c($e(n)),a.next=14;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0.response),r=a.t0.response?a.t0.response.data.error:"Server Error",c(Q(r)),c(Z(!0));case 14:return a.prev=14,c(H(!1)),a.finish(14);case 17:case"end":return a.stop()}}),a,null,[[0,8,14,17]])})));return function(e){return a.apply(this,arguments)}}()}(m,C,t)),y(""),g(""),j(!1)},children:"Save"})]})]}),Object(b.jsx)("div",{className:"packListHeader",children:Object(b.jsx)("h2",{children:"Cards List"})}),Object(b.jsxs)("div",{className:"searchAndBtn",children:[Object(b.jsx)(Be,{searchCallBack:function(n){e({type:Fe,payload:n}),e($e(t))},placeholder:"search for questions"}),Object(b.jsx)(p,{onClick:function(){return j(!0)},children:"Add new card"})]}),Object(b.jsx)(et,{packId:t}),Object(b.jsx)(Ge,{page:s,cardPacksTotalCount:i,pageCount:o,onChangeCurPage:w,onChangeCurPageCount:N}),"}"]}):Object(b.jsx)("div",{children:Object(b.jsx)("h2",{style:{marginTop:"20px",color:"red"},children:"There are no cards in this pack!"})})})},exact:!0},{path:"/learnPage/:packId",component:function(){var e=Object(h.b)(),t=Object(Y.h)().packId,n=Object(h.c)((function(e){return e.cards.cards})),c=Object(h.c)((function(e){return e.auth.isLoading})),r=Object(h.c)((function(e){return e.auth.isError}));console.log("cards",n);var s=Object(a.useState)({_id:"fake",cardsPack_id:"",answer:"answer fake",question:"question fake",grade:0,shots:0,type:"",rating:0,more_id:"",created:"",updated:""}),o=Object(se.a)(s,2),i=o[0],u=o[1];console.log("card",i);var l=Object(h.c)((function(e){return e.cards.cardsTotalCount}));console.log("cardsTotalCount",l);var d=Object(a.useState)(!1),j=Object(se.a)(d,2),O=j[0],x=j[1],m=function(t){e(function(e,t){return function(){var n=Object(v.a)(f.a.mark((function n(a){var c,r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(H(!0)),n.next=4,L(e,t);case 4:c=n.sent,console.log("editGrade",c),a(Xe(c)),n.next=14;break;case 9:n.prev=9,n.t0=n.catch(0),r=n.t0.response?n.t0.response.data.error:"Server Error",a(Q(r)),a(Z(!0));case 14:return n.prev=14,a(H(!1)),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[0,9,14,17]])})));return function(e){return n.apply(this,arguments)}}()}(t,i._id)),x(!1),console.log(t)};return Object(a.useEffect)((function(){return e(ze(1e3)),e($e(t)),function(){e(ze(4))}}),[]),Object(a.useEffect)((function(){u(tt(n))}),[]),c?Object(b.jsx)(te,{}):r?Object(b.jsx)(Y.a,{to:"/error"}):Object(b.jsxs)("div",{className:"learn_Page",children:[Object(b.jsx)("div",{className:"packListHeader",children:Object(b.jsx)("h2",{children:"Learn Page"})}),n.length<=0?Object(b.jsx)("div",{children:Object(b.jsx)("h2",{style:{color:"red"},children:"There are no cards in this pack"})}):Object(b.jsxs)("div",{className:"questionContainer",children:[Object(b.jsxs)("h2",{style:{color:"darkred"},children:["Question: ",i.question]}),Object(b.jsxs)("div",{className:"doubleBtn",children:[Object(b.jsx)(p,{onClick:function(){return x(!0)},children:"Show Answer"}),Object(b.jsx)(p,{onClick:function(){u(tt(n)),x(!1)},children:"Next Question"})]})]}),O&&Object(b.jsxs)("div",{className:"questionContainer",children:[Object(b.jsxs)("h2",{children:["Answer: ",i.answer]}),Object(b.jsx)("h2",{style:{color:"darkred"},children:"Rate yourself: "}),Object(b.jsx)("div",{className:"rateBtns",children:["Did not know","Forgot","A lot of thought","Confused","Knew the answer"].map((function(e,t){return Object(b.jsx)("div",{className:"rateBtn",children:Object(b.jsx)(p,{onClick:function(){return m(t+1)},children:e})},t)}))})]})]})},exact:!0}],at=[{path:"/login",component:ce,exact:!0},{path:"/registration",component:re,exact:!0},{path:"/newPassword",component:de,exact:!0},{path:"/recovery",component:le,exact:!0}],ct=function(){return Object(h.c)((function(e){return e.auth.isAuth}))?Object(b.jsxs)(Y.d,{children:[nt.map((function(e){return Object(b.jsx)(Y.b,{component:e.component,path:e.path,exact:e.exact},e.path)})),Object(b.jsx)(Y.a,{to:"/profile"})]}):Object(b.jsxs)(Y.d,{children:[at.map((function(e){return Object(b.jsx)(Y.b,{component:e.component,path:e.path,exact:e.exact},e.path)})),Object(b.jsx)(Y.a,{to:"/login"})]})};var rt=function(){var e=Object(h.b)();return Object(a.useEffect)((function(){e(function(){var e=Object(v.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(H(!0)),e.next=4,C();case 4:n=e.sent,console.log("authMeData",n),t(q(n)),t(F(!0));case 8:return e.prev=8,t(H(!1)),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[0,,8,11]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(b.jsxs)(s.a,{children:[Object(b.jsx)(K,{}),Object(b.jsx)(ct,{})]})},st={},ot=n(25),it=n(51),ut=n(52),lt=Object(ot.combineReducers)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;return t.type,e},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(u.a)(Object(u.a)({},e),t.payload);case D:return Object(u.a)(Object(u.a)({},e),{},{isAuth:t.payload});case I:return Object(u.a)(Object(u.a)({},e),{},{isLoading:t.payload});case R:return Object(u.a)(Object(u.a)({},e),{},{error:t.payload});case U:return Object(u.a)(Object(u.a)({},e),{},{isError:t.payload});case V:return Object(u.a)(Object(u.a)({},e),{},{isCreatedUser:t.payload});default:return e}},packs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return Object(u.a)(Object(u.a)(Object(u.a)({},e),t.payload),{},{cardPacks:t.payload.cardPacks});case be:return Object(u.a)(Object(u.a)({},e),{},{searchValue:t.payload});case pe:return Object(u.a)(Object(u.a)({},e),{},{sortPacks:t.payload});case he:return Object(u.a)(Object(u.a)({},e),{},{isMyPacks:t.payload});case Oe:return Object(u.a)(Object(u.a)({},e),{},{page:t.payload});case fe:return Object(u.a)(Object(u.a)({},e),{},{pageCount:t.payload});default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe:return Object(u.a)(Object(u.a)(Object(u.a)({},e),t.payload),{},{cards:t.payload.cards});case Fe:return Object(u.a)(Object(u.a)({},e),{},{questionSearch:t.payload});case Qe:return Object(u.a)(Object(u.a)({},e),{},{page:t.payload});case Ze:return Object(u.a)(Object(u.a)({},e),{},{pageCount:t.payload});case He:return Object(u.a)(Object(u.a)({},e),{},{typeSort:t.payload});case Je:return Object(u.a)(Object(u.a)({},e),{},{cards:e.cards.map((function(e){return e._id===t.payload.card_id?Object(u.a)(Object(u.a)({},e),{},{grade:t.payload.grade}):e}))});default:return e}}}),dt=Object(ot.createStore)(lt,Object(ut.composeWithDevTools)(Object(ot.applyMiddleware)(it.a)));r.a.render(Object(b.jsx)(h.a,{store:dt,children:Object(b.jsx)(rt,{})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.9e6cb505.chunk.js.map